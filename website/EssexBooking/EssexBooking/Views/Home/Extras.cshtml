@model EssexBooking.Models.Booking

@{
    ViewBag.Title = "Extras";
}

@section extraHead
{

<script type="text/javascript" src="/Scripts/AjaxProxy.js"></script>
<script type="text/javascript">
    $(function() {
        $(".extra_booking_date").datepicker({ showOn: "button", buttonImage: "../../Content/images/calendar.gif", buttonImageOnly: true,
                minDate: 0, maxDate: "+1Y", dateFormat: 'dd-mm-yy'
            });

        displayExtraCart = function(resp) {
            $("#miniextracart .extrabookingcart").replaceWith(resp);
        };

        $(".addExtraToBooking").click(function() {
            var extra_id = $(this).closest("[data-extra_id]").data("extra_id");

            var number = $(this).closest("tr").find("select.participant_number").val();

            var extra_date = $(this).closest("tr").find(".extra_booking_date").val();

            var booking_id = 1;

            AddExtraToBooking(booking_id, extra_id, number, extra_date, displayExtraCart);

        });
    });
</script>
}

<h2>Extras</h2>

@Html.Partial("_ExtraPartial", Model.Hotel.Resort.Extras)
